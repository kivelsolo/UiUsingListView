//apply from: "config.gradle"

buildscript {
//    ext.kotlin_version = '1.3.72'
    apply from: 'config.gradle'

    repositories {
        //使用阿里云镜像  防止Gradle同步超时
        maven{ url 'http://maven.aliyun.com/nexus/content/groups/public/'}
        maven { url 'https://maven.aliyun.com/repository/google' }
        maven { url 'https://maven.aliyun.com/repository/jcenter' }
//        maven { url "https://jitpack.io" }

        //maven { url uri('D:/repos')}  //local repositories
    }

    dependencies { //Identifies the Android plugin
        classpath 'com.android.tools.build:gradle:3.5.3'
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
        //classpath 'com.starcor.plugin:pluginrepo:1.0.0'
    }
}

allprojects {
    repositories {
        //maven { url "https://jitpack.io" }
        maven{ url 'http://maven.aliyun.com/nexus/content/groups/public/' }
        maven { url 'https://maven.aliyun.com/repository/google' }
        maven { url 'https://maven.aliyun.com/repository/jcenter' }
        maven{
            url 'https://dl.bintray.com/kivensolo/maven'
            //查看有哪些版本可以下载
            //https://dl.bintray.com/kivensolo/maven/com/github/zeke/kangaroo/
        }
    }

}

task clean(type: Delete) {
    delete rootProject.buildDir
}

//监听task的创建
tasks.whenTaskAdded { task ->
//    task.ext.srcDir = "src/main/java"
}

//监听整个task关系图的创建
gradle.taskGraph.whenReady {

}

//监听整个build完毕
gradle.buildFinished {
    println "All build Finished!"
}

//监听某个task开始执行，结束执行
//gradle.taskGraph.addTaskExecutionListener(new TaskExecutionListener() {
//    @Override
//    void beforeExecute(Task task) {
//
//    }
//
//    @Override
//    void afterExecute(Task task, TaskState state) {
//
//    }
//})